
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../api/">
      
      
      <link rel="icon" href="../assets/favicon-48x48.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Google Earth Engine Setup - Tender Tales Platform</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="ocean-light" data-md-color-accent="ocean-deep">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#google-earth-engine-setup-and-authentication" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Tender Tales Platform" class="md-header__button md-logo" aria-label="Tender Tales Platform" data-md-component="logo">
      
<img src="../assets/tender-tales-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Tender Tales Platform
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Google Earth Engine Setup
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="ocean-light" data-md-color-accent="ocean-deep"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="ocean-dark" data-md-color-accent="ocean-bright"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/tender-tales/platform" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    tender-tales/platform
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  Google Earth Engine Setup

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../api/" class="md-tabs__link">
        
  
  
    
  
  API Reference

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Tender Tales Platform" class="md-nav__button md-logo" aria-label="Tender Tales Platform" data-md-component="logo">
      
<img src="../assets/tender-tales-logo.png" alt="logo">

    </a>
    Tender Tales Platform
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/tender-tales/platform" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    tender-tales/platform
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Google Earth Engine Setup
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Google Earth Engine Setup
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initial-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Initial Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Initial Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-enable-earth-engine-api" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Enable Earth Engine API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-create-service-account" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Create Service Account
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-assign-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Assign Permissions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-generate-private-key" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4: Generate Private Key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-register-service-account-with-earth-engine" class="md-nav__link">
    <span class="md-ellipsis">
      Step 5: Register Service Account with Earth Engine
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 5: Register Service Account with Earth Engine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-1-using-earth-engine-cli" class="md-nav__link">
    <span class="md-ellipsis">
      Method 1: Using Earth Engine CLI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-2-using-earth-engine-code-editor" class="md-nav__link">
    <span class="md-ellipsis">
      Method 2: Using Earth Engine Code Editor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-3-using-python-api" class="md-nav__link">
    <span class="md-ellipsis">
      Method 3: Using Python API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#github-actions-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      GitHub Actions Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GitHub Actions Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#required-github-secrets" class="md-nav__link">
    <span class="md-ellipsis">
      Required GitHub Secrets
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Required GitHub Secrets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-earth_engine_service_account_key" class="md-nav__link">
    <span class="md-ellipsis">
      1. EARTH_ENGINE_SERVICE_ACCOUNT_KEY
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-earth_engine_project_id" class="md-nav__link">
    <span class="md-ellipsis">
      2. EARTH_ENGINE_PROJECT_ID
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-gcp_sa_key-already-configured" class="md-nav__link">
    <span class="md-ellipsis">
      3. GCP_SA_KEY (already configured)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-gcp_project_id-already-configured" class="md-nav__link">
    <span class="md-ellipsis">
      4. GCP_PROJECT_ID (already configured)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-add-secrets" class="md-nav__link">
    <span class="md-ellipsis">
      How to Add Secrets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#local-development-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Local Development Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Local Development Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authentication-options" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication Options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Authentication Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-1-use-the-same-service-account-key" class="md-nav__link">
    <span class="md-ellipsis">
      Option 1: Use the same service account key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-2-use-oauth-authentication-traditional-method" class="md-nav__link">
    <span class="md-ellipsis">
      Option 2: Use OAuth authentication (traditional method)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication Flow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dataset-access" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset Access
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dataset Access">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dataset-information" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset Information
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-dataset-access" class="md-nav__link">
    <span class="md-ellipsis">
      Testing Dataset Access
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api-integration" class="md-nav__link">
    <span class="md-ellipsis">
      API Integration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment Pipeline
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deployment Pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#github-actions-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      GitHub Actions Workflow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-compose-compatibility" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Compose Compatibility
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changes-made-to-codebase" class="md-nav__link">
    <span class="md-ellipsis">
      Changes Made to Codebase
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Common Issues
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verification-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Verification Steps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-the-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Testing the Setup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#current-status" class="md-nav__link">
    <span class="md-ellipsis">
      Current Status
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initial-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Initial Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Initial Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-enable-earth-engine-api" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Enable Earth Engine API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-create-service-account" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Create Service Account
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-assign-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3: Assign Permissions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-generate-private-key" class="md-nav__link">
    <span class="md-ellipsis">
      Step 4: Generate Private Key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-register-service-account-with-earth-engine" class="md-nav__link">
    <span class="md-ellipsis">
      Step 5: Register Service Account with Earth Engine
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 5: Register Service Account with Earth Engine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#method-1-using-earth-engine-cli" class="md-nav__link">
    <span class="md-ellipsis">
      Method 1: Using Earth Engine CLI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-2-using-earth-engine-code-editor" class="md-nav__link">
    <span class="md-ellipsis">
      Method 2: Using Earth Engine Code Editor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-3-using-python-api" class="md-nav__link">
    <span class="md-ellipsis">
      Method 3: Using Python API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#github-actions-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      GitHub Actions Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GitHub Actions Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#required-github-secrets" class="md-nav__link">
    <span class="md-ellipsis">
      Required GitHub Secrets
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Required GitHub Secrets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-earth_engine_service_account_key" class="md-nav__link">
    <span class="md-ellipsis">
      1. EARTH_ENGINE_SERVICE_ACCOUNT_KEY
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-earth_engine_project_id" class="md-nav__link">
    <span class="md-ellipsis">
      2. EARTH_ENGINE_PROJECT_ID
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-gcp_sa_key-already-configured" class="md-nav__link">
    <span class="md-ellipsis">
      3. GCP_SA_KEY (already configured)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-gcp_project_id-already-configured" class="md-nav__link">
    <span class="md-ellipsis">
      4. GCP_PROJECT_ID (already configured)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-add-secrets" class="md-nav__link">
    <span class="md-ellipsis">
      How to Add Secrets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#local-development-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Local Development Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Local Development Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authentication-options" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication Options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Authentication Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-1-use-the-same-service-account-key" class="md-nav__link">
    <span class="md-ellipsis">
      Option 1: Use the same service account key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-2-use-oauth-authentication-traditional-method" class="md-nav__link">
    <span class="md-ellipsis">
      Option 2: Use OAuth authentication (traditional method)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Authentication Flow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dataset-access" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset Access
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dataset Access">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dataset-information" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset Information
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-dataset-access" class="md-nav__link">
    <span class="md-ellipsis">
      Testing Dataset Access
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api-integration" class="md-nav__link">
    <span class="md-ellipsis">
      API Integration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deployment-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment Pipeline
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deployment Pipeline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#github-actions-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      GitHub Actions Workflow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-compose-compatibility" class="md-nav__link">
    <span class="md-ellipsis">
      Docker Compose Compatibility
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changes-made-to-codebase" class="md-nav__link">
    <span class="md-ellipsis">
      Changes Made to Codebase
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" class="md-nav__link">
    <span class="md-ellipsis">
      Troubleshooting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Troubleshooting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Common Issues
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verification-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Verification Steps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-the-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Testing the Setup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#current-status" class="md-nav__link">
    <span class="md-ellipsis">
      Current Status
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="google-earth-engine-setup-and-authentication">Google Earth Engine Setup and Authentication<a class="headerlink" href="#google-earth-engine-setup-and-authentication" title="Permanent link">&para;</a></h1>
<p>This guide explains how to set up Google Earth Engine authentication for accessing the satellite embedding dataset and configuring GitHub Actions deployment.</p>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>The application uses Google Earth Engine service account authentication, which is the recommended approach for server-side applications. This eliminates the need for manual <code>earthengine authenticate</code> commands and works in automated CI/CD environments.</p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>Google Cloud Project</strong>: Project ID <code>ocean-health-468302</code></li>
<li><strong>Earth Engine Access</strong>: Register at <a href="https://earthengine.google.com/">Google Earth Engine</a></li>
<li><strong>Service Account</strong>: Create a service account for server-side authentication</li>
</ol>
<h2 id="initial-setup">Initial Setup<a class="headerlink" href="#initial-setup" title="Permanent link">&para;</a></h2>
<h3 id="step-1-enable-earth-engine-api">Step 1: Enable Earth Engine API<a class="headerlink" href="#step-1-enable-earth-engine-api" title="Permanent link">&para;</a></h3>
<ol>
<li>Go to <a href="https://console.cloud.google.com/">Google Cloud Console</a></li>
<li>Select project <code>ocean-health-468302</code></li>
<li>Navigate to "APIs &amp; Services" &gt; "Library"</li>
<li>Search for "Google Earth Engine API" and enable it</li>
</ol>
<h3 id="step-2-create-service-account">Step 2: Create Service Account<a class="headerlink" href="#step-2-create-service-account" title="Permanent link">&para;</a></h3>
<ol>
<li>In Google Cloud Console, go to "IAM &amp; Admin" &gt; "Service Accounts"</li>
<li>Click "Create Service Account"</li>
<li>Name: <code>earth-engine-service</code></li>
<li>Description: <code>Service account for Earth Engine API access</code></li>
<li>Click "Create and Continue"</li>
</ol>
<h3 id="step-3-assign-permissions">Step 3: Assign Permissions<a class="headerlink" href="#step-3-assign-permissions" title="Permanent link">&para;</a></h3>
<p>Assign these roles to the service account:
- <code>Earth Engine Resource Admin</code>
- <code>Earth Engine Resource Viewer</code></p>
<h3 id="step-4-generate-private-key">Step 4: Generate Private Key<a class="headerlink" href="#step-4-generate-private-key" title="Permanent link">&para;</a></h3>
<ol>
<li>Click on the created service account</li>
<li>Go to "Keys" tab</li>
<li>Click "Add Key" &gt; "Create New Key"</li>
<li>Choose "JSON" format</li>
<li>Download the private key file</li>
</ol>
<h3 id="step-5-register-service-account-with-earth-engine">Step 5: Register Service Account with Earth Engine<a class="headerlink" href="#step-5-register-service-account-with-earth-engine" title="Permanent link">&para;</a></h3>
<p>You can register the service account in two ways:</p>
<h4 id="method-1-using-earth-engine-cli">Method 1: Using Earth Engine CLI<a class="headerlink" href="#method-1-using-earth-engine-cli" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>earthengine<span class="w"> </span>authenticate<span class="w"> </span>--service-account<span class="w"> </span>your-service-account@ocean-health-468302.iam.gserviceaccount.com<span class="w"> </span>--key-file<span class="w"> </span>path/to/your/private-key.json
</span></code></pre></div>
<h4 id="method-2-using-earth-engine-code-editor">Method 2: Using Earth Engine Code Editor<a class="headerlink" href="#method-2-using-earth-engine-code-editor" title="Permanent link">&para;</a></h4>
<ul>
<li>Go to https://code.earthengine.google.com/</li>
<li>Click on "Assets" tab</li>
<li>In the console, run:
  <div class="language-javascript highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1">// Replace with your service account email</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="nx">ee</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">setAuthToken</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;your-service-account@project.iam.gserviceaccount.com&#39;</span><span class="p">);</span>
</span></code></pre></div></li>
</ul>
<h4 id="method-3-using-python-api">Method 3: Using Python API<a class="headerlink" href="#method-3-using-python-api" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">ee</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="n">ee</span><span class="o">.</span><span class="n">Authenticate</span><span class="p">()</span>  <span class="c1"># Follow the prompts to register the service account</span>
</span></code></pre></div>
<h2 id="github-actions-configuration">GitHub Actions Configuration<a class="headerlink" href="#github-actions-configuration" title="Permanent link">&para;</a></h2>
<h3 id="required-github-secrets">Required GitHub Secrets<a class="headerlink" href="#required-github-secrets" title="Permanent link">&para;</a></h3>
<p>Configure the following secrets in your GitHub repository:</p>
<h4 id="1-earth_engine_service_account_key">1. <code>EARTH_ENGINE_SERVICE_ACCOUNT_KEY</code><a class="headerlink" href="#1-earth_engine_service_account_key" title="Permanent link">&para;</a></h4>
<p>This should contain the complete JSON service account key file content.</p>
<h4 id="2-earth_engine_project_id">2. <code>EARTH_ENGINE_PROJECT_ID</code><a class="headerlink" href="#2-earth_engine_project_id" title="Permanent link">&para;</a></h4>
<p>Your Google Cloud project ID that has Earth Engine enabled (<code>ocean-health-468302</code>).</p>
<h4 id="3-gcp_sa_key-already-configured">3. <code>GCP_SA_KEY</code> (already configured)<a class="headerlink" href="#3-gcp_sa_key-already-configured" title="Permanent link">&para;</a></h4>
<p>Your existing Google Cloud service account key for deployment.</p>
<h4 id="4-gcp_project_id-already-configured">4. <code>GCP_PROJECT_ID</code> (already configured)<a class="headerlink" href="#4-gcp_project_id-already-configured" title="Permanent link">&para;</a></h4>
<p>Your Google Cloud project ID.</p>
<h3 id="how-to-add-secrets">How to Add Secrets<a class="headerlink" href="#how-to-add-secrets" title="Permanent link">&para;</a></h3>
<ol>
<li>Copy the entire content of the downloaded JSON file</li>
<li>Go to your GitHub repository → Settings → Secrets and variables → Actions</li>
<li>Create a new secret named <code>EARTH_ENGINE_SERVICE_ACCOUNT_KEY</code></li>
<li>Paste the complete JSON content</li>
</ol>
<h2 id="local-development-setup">Local Development Setup<a class="headerlink" href="#local-development-setup" title="Permanent link">&para;</a></h2>
<h3 id="environment-variables">Environment Variables<a class="headerlink" href="#environment-variables" title="Permanent link">&para;</a></h3>
<p>Add these to your <code>.env.local</code>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>GOOGLE_CLOUD_PROJECT=ocean-health-468302
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>EARTH_ENGINE_SERVICE_ACCOUNT_EMAIL=your-service-account@ocean-health-468302.iam.gserviceaccount.com
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>EARTH_ENGINE_PRIVATE_KEY_FILE=path/to/your/private-key.json
</span></code></pre></div>
<h3 id="authentication-options">Authentication Options<a class="headerlink" href="#authentication-options" title="Permanent link">&para;</a></h3>
<h4 id="option-1-use-the-same-service-account-key">Option 1: Use the same service account key<a class="headerlink" href="#option-1-use-the-same-service-account-key" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1"># Copy the service account key to the expected location</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>cp<span class="w"> </span>/path/to/your-service-account-key.json<span class="w"> </span>tender_tales/credentials.json
</span></code></pre></div>
<h4 id="option-2-use-oauth-authentication-traditional-method">Option 2: Use OAuth authentication (traditional method)<a class="headerlink" href="#option-2-use-oauth-authentication-traditional-method" title="Permanent link">&para;</a></h4>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>earthengine<span class="w"> </span>authenticate
</span></code></pre></div>
<h2 id="authentication-flow">Authentication Flow<a class="headerlink" href="#authentication-flow" title="Permanent link">&para;</a></h2>
<p>The updated Earth Engine service now:</p>
<ol>
<li><strong>Checks multiple credential locations:</strong></li>
<li><code>/app/credentials.json</code> (for Cloud Run deployment)</li>
<li><code>/run/secrets/earthengine-credentials</code> (for Docker Compose)</li>
<li>
<p><code>~/.config/earthengine/credentials</code> (for local development)</p>
</li>
<li>
<p><strong>Supports multiple authentication methods:</strong></p>
</li>
<li>Service account credentials (recommended for production)</li>
<li>OAuth credentials (for local development)</li>
<li>
<p>Application Default Credentials (fallback)</p>
</li>
<li>
<p><strong>Provides detailed logging:</strong></p>
</li>
<li>Shows which authentication method is being used</li>
<li>Logs service account email being used</li>
<li>Tests the connection after initialization</li>
</ol>
<h2 id="dataset-access">Dataset Access<a class="headerlink" href="#dataset-access" title="Permanent link">&para;</a></h2>
<h3 id="dataset-information">Dataset Information<a class="headerlink" href="#dataset-information" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Collection ID</strong>: <code>GOOGLE/SATELLITE_EMBEDDING/V1/ANNUAL</code></li>
<li><strong>Temporal Coverage</strong>: 2017-2024 (annual)</li>
<li><strong>Spatial Resolution</strong>: 10 meters</li>
<li><strong>Bands</strong>: 64 embedding dimensions (A00-A63)</li>
<li><strong>Data Type</strong>: Float32 (-1 to 1 range)</li>
<li><strong>Global Coverage</strong>: Land surfaces and shallow water</li>
</ul>
<h3 id="testing-dataset-access">Testing Dataset Access<a class="headerlink" href="#testing-dataset-access" title="Permanent link">&para;</a></h3>
<p>Once authenticated, you can test access to the satellite embedding dataset:</p>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">dataset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">ImageCollection</span><span class="p">(</span><span class="s1">&#39;GOOGLE/SATELLITE_EMBEDDING/V1/ANNUAL&#39;</span><span class="p">);</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">image</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">dataset</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">  </span><span class="p">.</span><span class="nx">filterDate</span><span class="p">(</span><span class="s1">&#39;2023-01-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2023-12-31&#39;</span><span class="p">)</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">  </span><span class="p">.</span><span class="nx">first</span><span class="p">();</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="c1">// Get embedding vectors for a specific location</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="kd">const</span><span class="w"> </span><span class="nx">point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">Geometry</span><span class="p">.</span><span class="nx">Point</span><span class="p">([</span><span class="o">-</span><span class="mf">122.4194</span><span class="p">,</span><span class="w"> </span><span class="mf">37.7749</span><span class="p">]);</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="kd">const</span><span class="w"> </span><span class="nx">sample</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">image</span><span class="p">.</span><span class="nx">sampleRegions</span><span class="p">({</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">  </span><span class="nx">collection</span><span class="o">:</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">FeatureCollection</span><span class="p">([</span><span class="nx">ee</span><span class="p">.</span><span class="nx">Feature</span><span class="p">(</span><span class="nx">point</span><span class="p">)]),</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="w">  </span><span class="nx">scale</span><span class="o">:</span><span class="w"> </span><span class="mf">10</span><span class="p">,</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="w">  </span><span class="nx">projection</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;EPSG:4326&#39;</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="p">});</span>
</span></code></pre></div>
<h3 id="api-integration">API Integration<a class="headerlink" href="#api-integration" title="Permanent link">&para;</a></h3>
<p>Update your API route with proper authentication:</p>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">serviceAccount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">  </span><span class="kr">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;service_account&quot;</span><span class="p">,</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">  </span><span class="nx">project_id</span><span class="o">:</span><span class="w"> </span><span class="kt">process.env.GOOGLE_CLOUD_PROJECT</span><span class="p">,</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">  </span><span class="nx">private_key_id</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">  </span><span class="nx">private_key</span><span class="o">:</span><span class="w"> </span><span class="kt">process.env.EARTH_ENGINE_PRIVATE_KEY</span><span class="p">,</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">  </span><span class="nx">client_email</span><span class="o">:</span><span class="w"> </span><span class="kt">process.env.EARTH_ENGINE_SERVICE_ACCOUNT_EMAIL</span><span class="p">,</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">  </span><span class="nx">client_id</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="w">  </span><span class="nx">auth_uri</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;https://accounts.google.com/o/oauth2/auth&quot;</span><span class="p">,</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="w">  </span><span class="nx">token_uri</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;https://oauth2.googleapis.com/token&quot;</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="p">};</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="k">await</span><span class="w"> </span><span class="nx">ee</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">authenticateViaPrivateKey</span><span class="p">(</span><span class="nx">serviceAccount</span><span class="p">);</span>
</span></code></pre></div>
<h2 id="deployment-pipeline">Deployment Pipeline<a class="headerlink" href="#deployment-pipeline" title="Permanent link">&para;</a></h2>
<h3 id="github-actions-workflow">GitHub Actions Workflow<a class="headerlink" href="#github-actions-workflow" title="Permanent link">&para;</a></h3>
<p>The GitHub Actions workflow now:</p>
<ol>
<li><strong>During build:</strong> Uses the service account credentials to verify authentication works</li>
<li><strong>During deployment:</strong> Uses the same service account credentials in Cloud Run</li>
<li><strong>During runtime:</strong> The application will authenticate using the mounted credentials</li>
</ol>
<h3 id="docker-compose-compatibility">Docker Compose Compatibility<a class="headerlink" href="#docker-compose-compatibility" title="Permanent link">&para;</a></h3>
<p>The setup maintains Docker Compose compatibility:
- Still supports mounting credentials as Docker secrets
- Works with existing <code>/run/secrets/earthengine-credentials</code> location</p>
<h2 id="changes-made-to-codebase">Changes Made to Codebase<a class="headerlink" href="#changes-made-to-codebase" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>Updated <code>services/earth_engine.py</code>:</strong></li>
<li>Improved service account authentication using <code>ee.ServiceAccountCredentials()</code></li>
<li>Added support for multiple credential file locations</li>
<li>
<p>Enhanced error handling and logging</p>
</li>
<li>
<p><strong>Updated <code>.github/workflows/deploy-gcp.yml</code>:</strong></p>
</li>
<li>Changed to use <code>EARTH_ENGINE_SERVICE_ACCOUNT_KEY</code> secret</li>
<li>
<p>Uses the same secret for both build and deployment phases</p>
</li>
<li>
<p><strong>Maintained Docker Compose compatibility:</strong></p>
</li>
<li>Still supports mounting credentials as Docker secrets</li>
<li>Works with existing <code>/run/secrets/earthengine-credentials</code> location</li>
</ol>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">&para;</a></h2>
<h3 id="common-issues">Common Issues<a class="headerlink" href="#common-issues" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Authentication Errors</strong>: Ensure service account has Earth Engine access and is properly registered</li>
<li><strong>Permission Denied</strong>: Check IAM roles and Earth Engine registration</li>
<li><strong>Quota Exceeded</strong>: Monitor Earth Engine usage limits</li>
<li><strong>Invalid Project</strong>: Verify project ID <code>ocean-health-468302</code> is correct</li>
<li><strong>Service account not registered</strong>: Make sure to complete Step 5 above</li>
</ol>
<h3 id="verification-steps">Verification Steps<a class="headerlink" href="#verification-steps" title="Permanent link">&para;</a></h3>
<p>If you encounter issues:</p>
<ol>
<li><strong>Verify the service account is registered with Earth Engine</strong></li>
<li><strong>Check that the JSON key format is correct</strong></li>
<li><strong>Ensure the project ID matches your Earth Engine project</strong></li>
<li><strong>Verify the service account has appropriate permissions</strong></li>
</ol>
<h3 id="testing-the-setup">Testing the Setup<a class="headerlink" href="#testing-the-setup" title="Permanent link">&para;</a></h3>
<p>The GitHub Actions workflow includes authentication verification during the build process. Check the workflow logs to ensure Earth Engine authentication is working correctly.</p>
<h2 id="current-status">Current Status<a class="headerlink" href="#current-status" title="Permanent link">&para;</a></h2>
<p>The application has been updated to use service account authentication and should work seamlessly in both local development and production environments. The mock data approach has been replaced with real Earth Engine satellite embedding data access.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href=".." class="md-footer__link md-footer__link--prev" aria-label="Previous: Home">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Home
              </div>
            </div>
          </a>
        
        
          
          <a href="../api/" class="md-footer__link md-footer__link--next" aria-label="Next: API Reference">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                API Reference
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  <div class="md-footer-vector">
    <a href="https://vectorinstitute.ai" target="_blank" rel="noopener">
      <img
        src="../assets/tender-tales-logo.png"
        alt="Vector Institute Logo"
        height="24"
      />
    </a>
  </div>
   
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/tender-tales/platform" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.code.annotate", "content.code.copy", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.tabs", "navigation.top", "search.suggest", "search.highlight", "toc.follow"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>